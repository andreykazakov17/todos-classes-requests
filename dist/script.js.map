{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/api/requests.js","webpack:///./src/js/index.js","webpack:///./src/js/modules/filters.js","webpack:///./src/js/modules/main.js","webpack:///./src/js/modules/todoItem.js","webpack:///./src/js/modules/todoList.js","webpack:///./src/js/modules/todoListView.js","webpack:///./src/js/services/eventEmitter.js","webpack:///./src/js/services/localStorage.js","webpack:///./src/js/services/utils.js"],"names":["callApi","url","params","response","fetch","method","headers","body","ok","json","Error","status","statusText","document","addEventListener","MyTodoList","Controller","todoInput","todoButton","todoListSelector","completeAllBtn","filterPanel","clearCompletedBtn","filtersList","init","Filters","MyEventEmitter","constructor","todosArr","childNodes","innerText","countTodos","length","style","display","visibility","currentFilter","e","preventDefault","value","newTodo","JSON","stringify","todoList","trigger","id","findTodoId","target","dataset","trash","clear","deletedTodoId","complete","idsArr","updatedArr","activeFilter","filtersBtns","classList","remove","filters","handleAddTodo","handleDeleteTodo","handleCheckTodo","handleFiltersTodo","handleCompleteAll","handleClear","handleUpdateText","localStorage","querySelector","todoListView","TodoListView","on","render","TodoList","addTodo","deleteTodo","arr","toggleAllTodos","clearCompleted","updateInput","TodoItem","completed","text","createElement","textWrapper","textDiv","textInput","setAttribute","add","appendChild","completedBtn","innerHTML","prepend","trashBtn","filter","todo","parseInt","tagName","parentElement","firstChild","lastChild","valueLength","focus","setSelectionRange","onchange","onblur","filterTodos","forEach","item","todoItem","_events","name","listener","push","data","fireCallbacks","callback","LocalStorage","getLocalStorage","key","parse","getItem","setLocalStorage","serializedArr","setItem","clearLocalStorage","removeItem","createTodo","Date","getTime","btn","Object","values","children","items","getAttribute"],"mappings":"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","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/index.js\");\n","const callApi = async (url, params) => {\r\n\r\n    let response = await fetch(url, {\r\n        method: params.method,\r\n        headers: params.headers,\r\n        body: params.body\r\n    });\r\n\r\n    if(response.ok) {\r\n        let json = await response.json();\r\n        return json;\r\n    } else {\r\n        throw new Error(`${response.status}: ${response.statusText}`);\r\n    }\r\n}\r\n\r\nexport { callApi };","import Controller from './modules/main';\r\nimport LocalStorage from './services/localStorage';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  \r\n    const MyTodoList = new Controller({ \r\n        todoInput: '.todo-input',\r\n        todoButton: '.todo-button',\r\n        todoListSelector: '.todo-list',\r\n        completeAllBtn: '.complete-all-btn',\r\n        filterPanel: '.todo-filters',\r\n        clearCompletedBtn: '.todo-clear',\r\n        filtersList: '.todo-filters-list'\r\n    });\r\n\r\n    MyTodoList.init();\r\n});","import { countTodos } from \"../services/utils\";\r\nimport MyEventEmitter from \"../services/eventEmitter\";\r\n\r\nexport default class Filters extends MyEventEmitter {\r\n    constructor(completeAllBtn, filterPanel) {\r\n        super();\r\n        this.completeAllBtn = completeAllBtn;\r\n        this.filterPanel = filterPanel;\r\n    }\r\n\r\n    render = async (todosArr) => {\r\n\r\n        const { completeAllBtn, filterPanel } = this;\r\n        filterPanel.childNodes[1].innerText = `Total: ${await countTodos(todosArr)}`;\r\n\r\n        if (todosArr.length) {\r\n            completeAllBtn.style.display = '';\r\n            filterPanel.style.visibility = 'visible';\r\n        } else {\r\n            completeAllBtn.style.display = 'none';\r\n            filterPanel.style.visibility = 'hidden';\r\n        }\r\n    }\r\n}","import Filters from './filters';\r\nimport TodoList from './todoList';\r\nimport TodoListView from './todoListView';\r\nimport { callApi } from '../api/requests';\r\nimport { activeFilter, findTodoId } from '../services/utils';\r\nimport MyEventEmitter from '../services/eventEmitter';\r\n\r\nexport default class Controller extends MyEventEmitter {\r\n    constructor({ \r\n        todoInput = null,\r\n        todoButton = null,\r\n        completeAllBtn = null,\r\n        todoListSelector = null,\r\n        filterPanel = null,\r\n        clearCompletedBtn = null,\r\n        filtersList = null,\r\n        todosArr = [],\r\n        currentFilter = 'all' } = {}){\r\n        super();\r\n        this.todosArr = todosArr;\r\n        this.currentFilter = currentFilter;\r\n        this.todoListSelector = document.querySelector(todoListSelector);\r\n        \r\n        this.todoListView = new TodoListView(this.todoListSelector);\r\n        this.todoInput = document.querySelector(todoInput);\r\n        this.filtersBtns = document.querySelector(filtersList);\r\n        this.filterPanel = document.querySelector(filterPanel);\r\n        this.todoButton = document.querySelector(todoButton);\r\n        this.completeAllBtn = document.querySelector(completeAllBtn);\r\n        this.clearCompletedBtn = document.querySelector(clearCompletedBtn);\r\n        this.idsArr = [];\r\n\r\n\r\n        this.filters = new Filters(this.completeAllBtn, this.filterPanel);\r\n        this.filters.on('filtersRender', (todosArr) => {\r\n            this.filters.render(todosArr);\r\n        });\r\n\r\n        this.todoList = new TodoList(this.todosArr, this.filters, this.currentFilter);\r\n        this.todoList.on(\"addTodo\", (newTodo) => {\r\n            this.todoList.addTodo(newTodo);\r\n        });\r\n        this.todoList.on(\"render\", (todosArr, currentFilter) => {\r\n            //this.todoList.getData();\r\n            this.filters.trigger('filtersRender', todosArr);\r\n            this.todoListView.render(todosArr, currentFilter);\r\n        });\r\n        this.todoList.on(\"deleteTodo\", (id) => {\r\n            this.todoList.deleteTodo(id);\r\n        });\r\n        this.todoList.on('checkTodo', async (arr) => {\r\n            //this.todoList.todosArr = await this.todoList.checkTodo(id);\r\n            //this.todoList.checkTodo(arr);\r\n            this.todoListView.render(arr, this.todoList.currentFilter);\r\n        });\r\n        this.todoList.on('toggleTodos', () => {\r\n            this.todoList.toggleAllTodos();\r\n        });\r\n        this.todoList.on('clearCompleted', (todosArr) => {\r\n            this.todoList.clearCompleted(todosArr);\r\n        });\r\n        this.todoList.on('updateInput', (e, localStorage) => {\r\n            this.todoList.updateInput(e, localStorage);\r\n        });\r\n    }\r\n\r\n    handleAddTodo = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const { todoInput } = this;\r\n\r\n        if (todoInput.value === '') return;\r\n\r\n        let newTodo = await callApi('http://localhost:5001/todos', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json;charset=utf-8'\r\n            },\r\n            body: JSON.stringify(todoInput.value)\r\n        });\r\n        this.todoList.trigger(\"addTodo\", newTodo);\r\n        todoInput.value = '';\r\n    }\r\n\r\n    handleDeleteTodo = async (e) => {\r\n        const id = findTodoId(e);\r\n        \r\n        if (e.target.dataset.trash !== 'trash' &&  e.target.dataset.clear !== 'clear-all') {\r\n            return;\r\n        }\r\n    \r\n        let deletedTodoId = await callApi(`http://localhost:5001/todos/${id}`, { method: 'DELETE' });\r\n        this.todoList.trigger('deleteTodo', deletedTodoId);\r\n    }\r\n\r\n    handleCheckTodo = async (e) => {\r\n        const id = findTodoId(e);\r\n\r\n        if (!(e.target.dataset.complete === 'complete')) {\r\n            return;\r\n        }\r\n\r\n        this.idsArr = [...this.idsArr, id];\r\n        let updatedArr = await callApi(`http://localhost:5001/todos/${id}`, { method: 'PATCH' });\r\n\r\n        this.todoList.todosArr = [...updatedArr];\r\n        this.todoList.trigger('render', this.todoList.todosArr, this.todoList.currentFilter);\r\n    }\r\n\r\n    handleFiltersTodo = (e) => {\r\n        this.todoList.currentFilter = activeFilter(e, this.filtersBtns);\r\n        this.todoList.trigger('render', this.todoList.todosArr, this.todoList.currentFilter);\r\n    }\r\n\r\n    handleCompleteAll = async (e) => {\r\n        e.preventDefault();\r\n    \r\n\r\n        this.todoList.todosArr = await callApi('http://localhost:5001/todos', { method: 'PATCH' });\r\n        this.todoList.trigger('render', this.todoList.todosArr, this.todoList.currentFilter);\r\n    }\r\n\r\n    handleClear = async () => {\r\n        this.todoList.todosArr = await callApi('http://localhost:5001/todos/clearAll', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json;charset=utf-8'\r\n            },\r\n            body: this.idsArr\r\n        });\r\n\r\n        this.todoList.trigger('clearCompleted', this.todoList.todosArr);\r\n        this.clearCompletedBtn.classList.remove('active-btn');\r\n        this.idsArr = [];\r\n    }\r\n\r\n    handleUpdateText = async (e) => {\r\n\r\n        this.todoList.trigger('updateInput', e);\r\n    }\r\n\r\n    init = async () => {\r\n\r\n        this.todoList.todosArr = await callApi('http://localhost:5001/todos', {  method: 'GET'});\r\n\r\n        this.todoList.trigger('render', this.todoList.todosArr, this.currentFilter);\r\n        this.filters.trigger('filtersRender', this.todoList.todosArr);\r\n\r\n        this.todoButton.addEventListener(\"click\", this.handleAddTodo);\r\n        this.todoListSelector.addEventListener('click', (e) => {\r\n            this.handleDeleteTodo(e);\r\n        });\r\n        this.todoListSelector.addEventListener('click', (e) => {\r\n            this.handleCheckTodo(e);\r\n        });\r\n        this.filterPanel.addEventListener('click', this.handleFiltersTodo);\r\n        this.completeAllBtn.addEventListener('click', this.handleCompleteAll);\r\n        this.clearCompletedBtn.addEventListener('click', () => {\r\n            this.handleClear();\r\n        });\r\n        this.todoListSelector.addEventListener('dblclick', (e) => {\r\n            this.handleUpdateText(e, localStorage);\r\n        });\r\n    }\r\n}","import MyEventEmitter from \"../services/eventEmitter\";\r\n\r\nexport default class TodoItem extends MyEventEmitter {\r\n    constructor({id, completed, text}, todoListSelector) {\r\n        super();\r\n        this.id = id;\r\n        this.completed = completed;\r\n        this.text = text;\r\n        this.todoListSelector = todoListSelector;\r\n    }\r\n\r\n    render() {\r\n\r\n        const { id, completed, text, todoListSelector } = this;\r\n\r\n        const newTodo = document.createElement('li');\r\n        const textWrapper = document.createElement('div');\r\n        const textDiv = document.createElement('div');\r\n        const textInput = document.createElement('input');\r\n\r\n        textInput.setAttribute('type', 'text');\r\n        textInput.setAttribute('value', text);\r\n        textInput.classList.add('todo-text');\r\n        textInput.classList.add('hidden');\r\n\r\n        newTodo.setAttribute(\"data-id\", id);\r\n        newTodo.classList.add('todo-item');\r\n\r\n        textDiv.classList.add('todo-text');\r\n        textDiv.innerText = text;\r\n\r\n        textWrapper.classList.add('text-wrapper');\r\n        textWrapper.appendChild(textDiv);\r\n        textWrapper.appendChild(textInput);\r\n\r\n        newTodo.appendChild(textWrapper);\r\n        todoListSelector.appendChild(newTodo);\r\n\r\n        // Check button\r\n        const completedBtn = document.createElement('button');\r\n        completedBtn.innerHTML = '<i class=\"fa-solid fa-circle-check\"></i>';\r\n        completedBtn.classList.add('complete-btn');\r\n        completedBtn.setAttribute('data-complete', 'complete');\r\n        if (completed) {\r\n            newTodo.classList.add('checked');\r\n            newTodo.classList.add('completed');\r\n        } else {\r\n            newTodo.classList.remove('checked');\r\n            newTodo.classList.remove('completed');\r\n        }\r\n        newTodo.prepend(completedBtn);\r\n\r\n        // Trash button\r\n        const trashBtn = document.createElement('button');\r\n        trashBtn.innerHTML = '<i class=\"fa-solid fa-circle-xmark\"></i>';\r\n        trashBtn.classList.add('trash-btn');\r\n        trashBtn.setAttribute('data-trash', 'trash');\r\n        newTodo.appendChild(trashBtn);\r\n    }\r\n}","import MyEventEmitter from \"../services/eventEmitter\";\r\nimport { callApi } from \"../api/requests\";\r\n\r\nexport default class TodoList extends MyEventEmitter {\r\n    constructor(todosArr, filters, currentFilter) {\r\n        super();\r\n        this.todosArr = todosArr;\r\n        this.filters = filters;\r\n        this.currentFilter = currentFilter;\r\n    }\r\n\r\n    addTodo = (newTodo) => {\r\n        this.todosArr = [...this.todosArr, newTodo];\r\n        this.trigger(\"render\", this.todosArr, this.currentFilter);\r\n    }\r\n\r\n    deleteTodo = async (deletedTodoId) => {\r\n\r\n        this.todosArr = this.todosArr.filter((todo) => todo.id !== parseInt(deletedTodoId));\r\n        this.trigger('render', this.todosArr, this.currentFilter);\r\n    }\r\n\r\n    clearCompleted = async (todosArr) => {\r\n        this.todosArr = [...todosArr];\r\n        this.trigger('render', this.todosArr, this.currentFilter);\r\n    }\r\n\r\n    updateInput = async (e) => {\r\n        const target = e.target;\r\n    \r\n        if (target.tagName !== 'LI' && target.tagName !== 'DIV') return;\r\n    \r\n        const textWrapper = target.parentElement;\r\n        const textDiv = textWrapper.firstChild;\r\n        const textInput = textWrapper.lastChild;\r\n        const valueLength = textInput.value.length;\r\n        const id = +textWrapper.parentElement.dataset['id'];\r\n    \r\n        textDiv.classList.add('hidden');\r\n        textInput.classList.remove('hidden');\r\n        textInput.focus();\r\n        textInput.setSelectionRange(valueLength, valueLength);\r\n\r\n        \r\n        \r\n        textInput.onchange = async () => {\r\n    \r\n            if (textInput.value === '') return;\r\n\r\n            this.todosArr = await callApi(`http://localhost:5001/todos/${id}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                },\r\n                body: JSON.stringify(textInput.value, id)\r\n            });\r\n            this.trigger('render', this.todosArr, this.currentFilter);\r\n        }\r\n    \r\n        textInput.onblur = () => {\r\n            this.trigger('render', this.todosArr, this.currentFilter);\r\n        }\r\n    }\r\n}","import MyEventEmitter from \"../services/eventEmitter\";\r\nimport TodoItem from \"./todoItem\";\r\nimport { filterTodos } from '../services/utils';\r\n\r\nexport default class TodoListView extends MyEventEmitter {\r\n    constructor(todoListSelector, currentFilter) {\r\n        super();\r\n        this.currentFilter = currentFilter;\r\n        this.todoListSelector = todoListSelector;\r\n    }\r\n\r\n    render = (todosArr, currentFilter) => {\r\n        this.todoListSelector.innerHTML = '';\r\n        filterTodos(todosArr, currentFilter).forEach((item) => {\r\n            const todoItem = new TodoItem(item, this.todoListSelector);\r\n            todoItem.render();\r\n        })\r\n    }\r\n}","// export default class EventEmitter {\r\n//     constructor() {\r\n//         this.events = {};\r\n//     }\r\n\r\n//     on = (eventName, func) => {\r\n//         const event = this.events[eventName];\r\n//         if (event) {\r\n//             event.push(func);\r\n//         } else {\r\n//             this.events[eventName] = [func];\r\n//         }\r\n//     }\r\n\r\n//     emit = (eventName, ...data) => {\r\n//         const event = this.events[eventName];\r\n//         if (event) {\r\n//             event.forEach((func) => func(...data));\r\n//         }\r\n//     }\r\n// }\r\n\r\n\r\nexport default class MyEventEmitter {\r\n    constructor() {\r\n      this._events = {};\r\n    }\r\n  \r\n    on(name, listener) {\r\n      if (!this._events[name]) {\r\n        this._events[name] = [];\r\n      }\r\n  \r\n      this._events[name].push(listener);\r\n    }\r\n  \r\n    trigger(name, ...data) {\r\n      if (!this._events[name]) {\r\n        throw new Error(`Can't emit an event. Event \"${name}\" doesn't exits.`);\r\n      }\r\n  \r\n      const fireCallbacks = (callback) => {\r\n        callback(...data);\r\n      };\r\n  \r\n      this._events[name].forEach(fireCallbacks);\r\n    }\r\n}","export default class LocalStorage {\r\n    getLocalStorage(key) {\r\n        return JSON.parse(localStorage.getItem(key));\r\n    }\r\n\r\n    setLocalStorage(key, data) {\r\n        const serializedArr = JSON.stringify(data);\r\n        localStorage.setItem(key, serializedArr);\r\n    }\r\n\r\n    clearLocalStorage() {\r\n        localStorage.removeItem('todosArr');\r\n    }\r\n}","const createTodo = (text) => ({\r\n    text,\r\n    completed: false,\r\n    id: new Date().getTime()\r\n});\r\n\r\nconst countTodos = (todosArr) => {\r\n    return todosArr.length;\r\n}\r\n\r\nconst activeFilter = (e, filtersList) => {\r\n    if (e.target.tagName !== 'BUTTON') return;\r\n\r\n    for(let btn of Object.values(filtersList.children)) {\r\n        btn.classList.remove('active-btn');\r\n    }\r\n    e.target.classList.add('active-btn');\r\n    return e.target.dataset['btn'];\r\n}\r\n\r\nconst filterTodos = (items, filter) => {\r\n    switch (filter) {\r\n        case \"active\":\r\n            return items.filter((item) => !item.completed);\r\n        case \"completed\":\r\n            return items.filter((item) => item.completed);\r\n        default:\r\n            return items;\r\n    }\r\n}\r\n\r\nconst findTodoId = (e) => {\r\n    const target = e.target;\r\n    const todo = target.parentElement;\r\n    return +todo.getAttribute('data-id');\r\n}\r\n\r\nexport { createTodo, countTodos, activeFilter, findTodoId, filterTodos };"],"sourceRoot":""}